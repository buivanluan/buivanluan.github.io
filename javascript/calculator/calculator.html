<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Calculator</title>
    <link rel="stylesheet" href="">
    <style>
    body {
        box-sizing: border-box;
        background: black;

    }
    
    .container {
        width: 500px;
        border: 2px solid #ff9600;
        border-radius: 5px;
        padding-bottom: 30px;
        margin: 100px auto;
        background: #760707;
        
    }
    
    button {
        height: 50px;
        width: 100px;
        margin: 5px;
        border-radius: 5px;
        font-size: 30px;
        border: 5px solid #ff9600;

       
    }
   
    @font-face{
    	font-family: "luan";
    	src: url('Blazed.ttf');
    }
    
    p {
        border: 5px solid black;
        height: 50px;
        margin: 10px;
        font-size: 30px;
        line-height: 50px;
        padding: 0 10px;
        text-align: right;
        overflow: hidden;
        margin: 45px 35px;
       	margin-top: 30px;
        background: #fff;
        
    }
    
    .body {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        margin-bottom: 10px;
    }
    h1{
    	text-align: center;
    	margin-bottom: 0;
    	font-family: "luan";
    	
    }
    </style>
</head>

<body>
    <div class="container">
        <div class="display">
        <h1>Calculator</h1>
            <p><b id="result"></b></p>
        </div>
        <div class="body">
            <button type="text" onclick="canbachai()">&#8730;</button>
            <button type="text" onclick="binhphuong()">x&sup2;</button>
            <button type="text" onclick="giaithua()">!</button>
            <button type="text" onclick="loga()">log</button>
            <button type="text" onclick="phantram()">&percnt;</button>
            <button type="text" onclick="amduong()">&pm; </button>
            <button type="text" onclick="clearone()">&larr;</button>
            <button type="text" onclick="pushcong()">&#43;</button>
            <button type="text" onclick="push1()">1</button>
            <button type="text" onclick="push2()">2</button>
            <button type="text" onclick="push3()">3</button>
            <button type="text" onclick="pushtru()"> &#45;</button>
            <button type="text" onclick="push4()">4</button>
            <button type="text" onclick="push5()">5</button>
            <button type="text" onclick="push6()">6</button>
            <button type="text" onclick="pushnhan()">x</button>
            <button type="text" onclick="push7()">7</button>
            <button type="text" onclick="push8()">8</button>
            <button type="text" onclick="push9()">9</button>
            <button type="text" onclick="pushchia()"> &#247;</button>
            <button type="text" onclick="push0()">0</button>
            <button type="text" onclick="pushdot()">.</button>
            <button type="text" onclick="xoa()">c</button>
            <button type="text" onclick="ketqua()">&equals;</button>
        </div>
    </div>
    <script type="text/javascript">

    document.getElementById('result').innerText = "0";

    function xoa() {
        document.getElementById('result').innerText = "0";

    }

    function push1() {
        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 1
        else {
            document.getElementById('result').innerText += 1
        }
    }

    function push2() {

        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 2
        else {
            document.getElementById('result').innerText += 2
        }
    }

    function push3() {

        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 3
        else {
            document.getElementById('result').innerText += 3
        }
    }

    function push4() {

        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 4
        else {
            document.getElementById('result').innerText += 4
        }
    }

    function push5() {

        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 5
        else {
            document.getElementById('result').innerText += 5
        }
    }

    function push6() {

        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 6
        else {
            document.getElementById('result').innerText += 6
        }
    }

    function push7() {

        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 7
        else {
            document.getElementById('result').innerText += 7
        }
    }

    function push8() {

        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 8
        else {
            document.getElementById('result').innerText += 8
        }
    }

    function push9() {

        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 9
        else {
            document.getElementById('result').innerText += 9
        }
    }

    function push0() {

        if (document.getElementById('result').innerText == "0")
            document.getElementById('result').innerText = 0
        else {
            document.getElementById('result').innerText += 0
        }
    }


    function pushdot() {

        var x = document.getElementById('result').innerText;
        var y = x.slice(x.length - 1, x.length);
        if (y != "+" & y != "-" & y != "*" & y != "/" & y != ".") {
            document.getElementById('result').innerText += '.'
        }

    }


    function pushcong() {

        var x = document.getElementById('result').innerText;
        var y = x.slice(x.length - 1, x.length);
        if (y == "+" || y == "-" || y == "*" || y == "/" || y == ".") {
            var x = document.getElementById('result').innerText;
            document.getElementById('result').innerText = x.slice(0, x.length - 1) + '+';
        } else if (y != "+" & y != "-" & y != "*" & y != "/" & y != ".") {
            document.getElementById('result').innerText += '+';
        }

    }

    function pushtru() {
        var x = document.getElementById('result').innerText;
        var y = x.slice(x.length - 1, x.length);
        if (y == "+" || y == "-" || y == "*" || y == "/" || y == ".") {
            var x = document.getElementById('result').innerText;
            document.getElementById('result').innerText = x.slice(0, x.length - 1) + '-';
        } else if (y != "+" & y != "-" & y != "*" & y != "/" & y != ".") {
            document.getElementById('result').innerText += '-';
        }
    }

    function pushnhan() {

        if (document.getElementById('result').innerText !== "0")
            var x = document.getElementById('result').innerText;
        var y = x.slice(x.length - 1, x.length);
        if (y == "+" || y == "-" || y == "*" || y == "/" || y == ".") {
            var x = document.getElementById('result').innerText;
            document.getElementById('result').innerText = x.slice(0, x.length - 1) + '*';
        } else if (y != "+" & y != "-" & y != "*" & y != "/" & y != ".") {
            document.getElementById('result').innerText += '*';
        }
    }

    function pushchia() {

        if (document.getElementById('result').innerText !== "0")
            var x = document.getElementById('result').innerText;
        var y = x.slice(x.length - 1, x.length);
        if (y == "+" || y == "-" || y == "*" || y == "/" || y == ".") {
            var x = document.getElementById('result').innerText;
            document.getElementById('result').innerText = x.slice(0, x.length - 1) + '/';
        } else if (y != "+" & y != "-" & y != "*" & y != "/" & y != ".") {
            document.getElementById('result').innerText += '/';
        }
    }

    function ketqua() {
        document.getElementById('result').innerText = eval(document.getElementById('result').innerText);
    }

    function binhphuong() {
        var x = document.getElementById('result').innerText;
        document.getElementById('result').innerText = Number(x) * Number(x);
    }

    function canbachai() {
        var x = document.getElementById('result').innerText;
        document.getElementById('result').innerText = Math.sqrt(Number(x));
    }

    function giaithua() {
        var x = document.getElementById('result').innerText;
        var n = Number(x);
        var y = 1;
        for (var i = 1; i <= n; i++) {
            y = y * i
        }
        document.getElementById('result').innerText = y;
    }

    function clearone() {
        var x = document.getElementById('result').innerText;
        document.getElementById('result').innerText = x.slice(0, x.length - 1);
    }

    function phantram() {
        var x = document.getElementById('result').innerText;
        var y = x.search(/[*]/g);
        var a = Number(x.slice(0, y));
        var b = Number(x.slice(y + 1, x.length));
        var z = (a * b) / 100;
        document.getElementById('result').innerText = z;

    }

    function loga() {
        var x = eval(document.getElementById('result').innerText);
        document.getElementById('result').innerText = Math.log(x);
    }

    function amduong() {
        var x = document.getElementById('result').innerText;
        for (i = x.length - 1; i >= 0; i--) {
            if (x[i] == "+" || x[i] == "-" || x[i] == "*" || x[i] == "/") {
                break;
            }
            console.log(i)
        }
        a = x.slice(0, i + 1);
        b = x.slice(i + 1, x.length);
        if (a[a.length - 2] !== "+" & a[a.length - 2] !== "-" & a[a.length - 2] !== "*" & a[a.length - 2] !== "/" || a[a.length - 2] == "") {

            if (a[a.length - 1] == "+" || a == "") {
            	a = a.slice(0,[a.length-1])
                document.getElementById('result').innerText = a + "-" + b;
            } else if (a[a.length - 1] == "-") {
            	a = a.slice(0,[a.length-1])
                document.getElementById('result').innerText = a + "+" + b;
            } else if (a[a.length - 1] == "*" & b !== "") {

                document.getElementById('result').innerText = a + "(" + "-" + b + ")";
            } else if (a[a.length - 1] == "/" & b !== "") {

                document.getElementById('result').innerText = a + "(" + "-" + b + ")";
            }
        }

        console.log(a)
        console.log(a[a.length - 1])
        console.log(b)
        console.log(document.getElementById('result').innerText)
        console.log(a[a.length - 2])


    }
    </script>
</body>

</html>
